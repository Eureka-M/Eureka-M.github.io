---
layout:     post
title:      tapable
subtitle:  
date:       2023-05-30
author:     
header-img: 
catalog: true
tags:
  - 重学 webpack
typora-root-url: ..
---

### 什么是 Tapable

其实就是实现了一种发布订阅模式，和 js 中的注册点击事件，node 中的 Events 类似。提前把事件注册好，在合适的时机触发对应注册好的事件。

### Tapable分类

- 按同步/异步分类

    ![image-20230530203548383](/../img/postImage/image-20230530203548383.png)

- 按照执行机制分类

    - Basic Hook：基本类型钩子，只会去调用每个注册的事件，不管事件的返回值。

        ![image-20230530204727734](/../img/postImage/image-20230530204727734.png)

    - Waterfall Hook：瀑布类型钩子，前一个注册函数的返回值，会作为后一个注册函数的实参。

        ![image-20230530205035973](/../img/postImage/image-20230530205035973.png)

    - Bail Hook：保险类型钩子，如果前一个注册函数返回值不为 undefined，则会发生熔断，后面的注册事件不会调用，直接结束。

        ![image-20230530205424813](/../img/postImage/image-20230530205424813.png)

    - Loop Hook：循环类型的钩子，任意一个注册函数返回了非 undefined，则会重头开始执行。

        ![image-20230530210324371](/../img/postImage/image-20230530210324371.png)